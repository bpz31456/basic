## vim编辑器操作命令
### 常见命令

|说明|模式|命令|
|---|:---|:---|
|设置行号 |命令行模式 |:set nu|
|取消行号设置 |命令行模式 |:set nonu|
|后一行合并到当前行的末尾 |命令模式 |J|
|重复上一个操作 |命令模式 |.//小数点|
|从编辑模式进入命令模式 |命令模式 |[ESC]|
|进入块编辑模式，列编辑模式 |命令模式 |ctrl + v|
|执行外部命令 |命令行模式 |:! command|
|显示当前文件状态 |命令模式 |ctrl + g|
|设置查询是忽略大小写 |命令行模式 |:set ic|
|设置查询是关闭忽略大小写 |命令行模式 |:set noic|
|设置高亮显示 |命令行模式 |:set hls is|
|窗口切换 |命令模式 |ctrl+w ctrl+w //按两次|
|关闭help窗口,切换到help窗口后，:q |命令行模式 |:q|
|多窗口打开文件 |命令行模式 |:sp filename|
|启动vim脚本文件 |命令模式 |:edit $VIM/_vimrc //MS-Windows|
|查询文件类型 |命令行模式 |:set ft?|
|系统缺省值环境变量$HOME |命令行模式 |:echo $HOME// C:\Users\bpz|
|$VIM |命令行模式 |:echo $VIM //C:\Program Files\Vim|
|$VIMRUNTIME |命令行模式 |:echo $VIMRUNTIME //C:\Program Files\Vim\vim82|
|~，用户工作空间，在查看_vimrc是有用，windows：C:\Users\baopz |命令行模式 |:e ~/_vimrc//打开_vimrc文件|
|$USERPROFILE |命令行模式 |:echo $USERPROFILE//C:\Users\bpz|
|$MYVIMRC |命令行模式 |:echo $MYVIMRC //C:\Users\bpz\_vimrc|
---
### 光标操作

|说明|模式|命令|
|---|:---|:---|
|光标移动文档最后一行 |命令模式 |GG|
|光标移动文档首行 |命令模式 |gg|
|光标移动到某一行 |命令模式 |nG,20G|
|光标移动行首非空字符 |命令模式 |^|
|光标移动行首字符处 |命令模式 |0|
|光标移动行尾 |命令模式 |$|
|光标向上移动n行 |命令模式 |nk,10k|
|光标向下移动n行 |命令模式 |nj,10j|
|光标向左移动n列 |命令模式 |nh,10h|
|光标向右移动n列 |命令模式 |nl,10l|
|移动到后n个单词开头 |命令模式 |nw,2w|
|移动到前n个单词开头 |命令模式 |nb,2b|
|移动到后n个单词结尾 |命令模式 |ne,3e|
|配对括号查询，在([{处按%，查找配对括号 |命令模式 |%|
|光标调到之前位置，返回前一个窗口 |命令模式 |ctrl+O|
|光标调到之后位置 |命令模式 |ctrl+I|
|跳转到下一个单词相关主题,和gg连用起到目录的目录索引的作用 |命令模式 |ctrl+]|
---
### 屏幕操作

|说明|模式|命令|
|---|:---|:---|
|屏幕向上移动 |命令模式 |ctrl+b|
|屏幕向下移动 |命令模式 |ctrl+f|
---
### 复制，粘贴，删除

|说明|模式|命令|
|---|:---|:---|
|删除当前字符 |命令模式 |x|
|删除单词 |命令模式 |dw|
|删除n个单词 |命令模式 |dnw,d3w|
|删除当前光标位置直到当前单词末尾 |命令模式 |de|
|删除当前光标位置直到当前单词末尾，并进入编辑模式 |命令模式 |ce|
|删除游标所在处，到该行的最后一个字符，包含当前字符 |命令模式 |d$|
|删除游标所在处，到该行的最后一个字符，包含当前字符，并进入编辑模式 |命令模式 |c$|
|删除当前行，应该是剪切 |命令模式 |dd|
|删除光标所在的向下 n 行,包含当前行 |命令模式 |ndd,5dd|
|删除光标行到首行的所有行 |命令模式 |d1G|
|删除光标所在行以及之后的所有行 |命令模式 |dG|
|删除光标所在处到当前行之前的所有字符 |命令模式 |d0|
|复制当前光标到之后的所有数据 |命令模式 |y$|
|复制当前一行 |命令模式 |yy|
|复制当前行到下面的n行数据 |命令模式 |nyy,5yy|
|复制当前行到之前的所有数据 |命令模式 |y1G|
|复制当前行到最后一行的所有数据 |命令模式 |yG|
|复制当前光标到当前行之前的所有数据 |命令模式 |y0|
|进入块模式选中内容复制 |块模式 |y|
|粘贴到下一行 |命令模式 |p//小写p|
|张贴到上一行 |命令模式 |P//大写P|
|撤销操作 |命令模式 |u|
|返回撤销 |命令模式 |ctrl+r|
---
### 多窗口操作

|说明|模式|命令|
|---|:---|:---|
|水平分割 |命令行模式 |:sp filename|
|竖直分割 |命令行模式 |:vs filename|
|比较两个文件的差异 |cmd |gvimdiff filename1 filename2|
|均等分布窗口大小 |命令模式 |ctrl+w+=|
|打开光标所在地折叠信息 |命令模式 |zo|
|打开所有折叠 |命令模式 |zO|
|折叠 |命令模式 |zc|
---
### 查找替换

|说明|模式|命令|
|---|:---|:---|
|向下查找 |命令行模式 |/word|
|向上查找 |命令行模式 |?/word|
|在第n1行到n2行之内查询字符并替换 |命令行模式 |:n1,n2s/word1/word2/g,1,5s/Word1/word2/g|
|全文查找并替换 |命令行模式 |:1,$s/word1/word2/g,%s/oldword/newword/g|
|只查找并替换第一个，在一行内替换 |命令行模式 |:s/oldword/newword|
|替换之前需要提示 |命令行模式 |:%s/oldword/newWord/gc|
|替换字符 |命令模式 |r|
---
### 编辑模式

|说明|模式|命令|
|---|:---|:---|
|进入编辑模式，从当前光标处开始编辑 |命令模式 |i|
|进入编辑模式，从当前光标后一行处开始编辑 |命令模式 |o|
|进入编辑模式，从当前光标前一行处开始编辑 |命令模式 |O|
|进入编辑模式，当前光标后追加 |命令模式 |a|
|进入编辑模式，当前光标所在行尾后追加 |命令模式 |A|
|替代当前光标字符，不会进入编辑模式 |命令模式 |r|
|一直处于替代编辑，进入编辑模式 |命令模式 |R|
---
### 命令行模式

|说明|模式|命令|
|---|:---|:---|
|保存文档 |命令行模式 |:w|
|强制保持 |命令行模式 |:w!|
|退出vim编辑器 |命令行模式 |:q|
|不保存文档退出vim编辑器 |命令行模式 |:q!|
|保存并退出 |命令行模式 |:wq|
|保存并强制退出 |命令行模式 |:wq!|
|保存并退出等同于:wq，如果是只读模式有提示 |命令模式 |ZZ|
|强制退出不保存等同于:q! |命令模式 |ZQ|
|另存为 |命令行模式 |:w filename|
|将部分内容另存为,讲n1行到n2行的数据另存为，只能以行为单位 |命令行模式 |:n1,n2 w filename|
---
### 块编辑，列编辑

|说明|模式|命令|
|---|:---|:---|
|进入块编辑模式，行编辑 |命令模式 |ctrl+v|
|进入批量编辑数据 |块模式 |shift+i|
|进入块编辑模式，字符编辑 |命令模式 |v|
|将选中的部分内容另存为,选中内容后录入":",出现行模式，并提示:'<,'>，然后w filename |块模式 |:|
---
### 提取，合并文件

|说明|模式|命令|
|---|:---|:---|
|提取其他文件全文本内容到光标处 |命令模式 |:r filename|
|提取外部执行命令输出结果到光标处 |命令模式 |:r !command|
---
### help功能

| 说明            | 模式    | 命令                           |
|---------------|:------|:-----------------------------|
| 查询help帮助目录    | 命令行模式 | :help                        |
| 查询具体的help功能目录 | 命令行模式 | :help usr_toc.txt            |
| 查询当前文件字符集     | 命令行模式 | :set encoding [=\<charset\>] |
---
### vim全局配置文件

|说明|模式|命令|
|---|:---|:---|
|配置文件所在位置，在~/_vimrc，位于用户主目录下面 |编辑模式 ||
|安装minpac插件(用于包管理) | |cd /d %USERPROFILE% //进入用户主目录</br> git clone https://github.com/k-takata/minpac.git %USERPROFILE%/pack/minpac/opt/minpac //下载安装包|
|在~/_vimrc配置文件中添加插件信息，gvim会在加载的时候去安装这些插件 | |如：fatih/vim-go|
---
### 多文件编辑

|说明|模式|命令|
|---|:---|:---|
|打开缓冲区列表,该功能中所有文件列表和用同一个缓冲区 |命令行模式 |:ls/buffers|
|根据缓冲区列表标号打开缓冲区文件 |命令行模式 |:b n,:b 5//打开缓冲区编号为5的文件|
|删除缓冲区打开的文件 |命令行模式 |:bd n,bd b//删除缓冲区编号5的文件|
|打开下一个缓冲区文件 |命令行模式 |:bn|
|打开上一个缓冲区文件 |命令行模式 |:bN|
|打开第一个缓冲区文件 |命令行模式 |:bfirst|
|打开最后一个缓冲区文件 |命令行模式 |:blast|
|在两个缓冲区文件之间来回切换，轮换，如果其中有文件尚未保存系统有提示 |命令模式 |ctrl+^|
|打开多文件 |cmd |gvim *.txt|
|查看打开的文件列表 |命令行模式 |:args|
|查看上一个文件 |命令行模式 |:N|
|查看下一个文件 |命令行模式 |:n|
|查看第一个文件 |命令行模式 |:first|
|查看最后一个文件 |命令行模式 |:last|
|保存当前文件并且打开下一个/上一个文件 |命令行模式 |:wn,:wN|
|设置自动保存功能 |命令行模式 |:set autowrite|
|关闭自动保存功能 |命令行模式 |:set noautowrite|
|vim中打开另外文件列表 |命令行模式 |:args *.html|
|打开当前文件夹以及子文件夹的筛选文件 |命令行模式 |:args **/*html|
|切换到最后一个修改文件的位置 |命令模式 |`.//数字一行第一个点|
|切换到最近离开的文件位置 |命令行模式 |`"数字一行第一个点|
|添加标签 |命令模式 |mx,50%mJ//在文档50%的地方添加标记J|
|查看所有标签 |命令行模式 |:marks|
|跳转到标记处 |命令模式 |`x,`J//跳转到标记J的地方|
|删除标签 |命令行模式 |:delmarks x//删除标签x|
|窗口拆分 |命令行模式 |:sp|
|关闭窗口 |命令行模式 |:close|
---
### 异常处理

|说明| 模式  | 命令                                        |
|---|:----|:------------------------------------------|
|已经存在交换文件，意外崩溃时恢复|     | 1.在恢复界面选择恢复Recover </br>2.重新打开文件，选择Delete |
---
### 组合操作

|说明|模式|命令|
|---|:---|:---|
|批量替换添加文件头部注释信息 |cmd |1.打开需要批量添加的文件vim *.html *.css|
|批量替换添加文件头部注释信息 |编辑模式 |2.复制或编辑需要批量添加的头部注释信息|
|批量替换添加文件头部注释信息 |命令行模式 |3.执行:set autowrite,设置跳转文件后自动存盘|
|批量替换添加文件头部注释信息 |命令行模式 |4.执行:n|normal ggP|
|批量替换添加文件头部注释信息 |命令行模式 |5.重复依次执行":",“↑”,"回车键"|
